CREATE DATABASE MOV_CONTA_CORRENTE
GO

USE MOV_CONTA_CORRENTE
GO

CREATE TABLE AGENCIAS(
	NUM_AGE	NUMERIC(5,0) PRIMARY KEY NOT NULL,
	NOME_AGE VARCHAR(30) NOT NULL,
	ENDE_AGE VARCHAR(50) NOT NULL,
	NUME_AGE VARCHAR(8),
	COMPL_AGE VARCHAR(20),
	BAIR_AGE VARCHAR(20),
	CIDA_AGE VARCHAR(30) NOT NULL,
	UF_AGE CHAR(2) NOT NULL,
	CEP_AGE CHAR(8) NOT NULL,
	FONE_AGE VARCHAR(13)
	)

CREATE TABLE CLIENTES(
	ID_CLI NUMERIC(9,0) PRIMARY KEY NOT NULL,
	NOME_CLI VARCHAR(50) NOT NULL,
	ENDE_CLI VARCHAR(50) NOT NULL,
	NUME_CLI VARCHAR(8),
	COMPL_CLI VARCHAR(20),
	BAIR_CLI VARCHAR(20),
	CIDA_CLI VARCHAR(30) NOT NULL,
	UF_CLI CHAR(2) NOT NULL,
	CEP_CLI CHAR(8) NOT NULL,
	FONE_CLI VARCHAR(13),
	CPF_CLI CHAR(11),
	DATA_NASC DATETIME,
	CNPJ_CLI CHAR(14)
)

CREATE TABLE HISTORICOS(
	ID_HIS NUMERIC(4,0) PRIMARY KEY NOT NULL,
	DES_HIS VARCHAR(30) NOT NULL
)

CREATE TABLE CONTACORRENTE(
	NUM_AGE NUMERIC(5,0) NOT NULL,
	NUM_CC NUMERIC(10,0) NOT NULL,
	ID_CLI NUMERIC(9,0) NOT NULL,
	SALDO NUMERIC(15,2),
	PRIMARY KEY (NUM_AGE,NUM_CC),
	CONSTRAINT FK_CONTACORRENTE_AGE FOREIGN KEY (NUM_AGE) REFERENCES AGENCIAS(NUM_AGE),
	CONSTRAINT FK_CONTACORRENTE_CLI FOREIGN KEY (ID_CLI) REFERENCES CLIENTES(ID_CLI)
)

CREATE TABLE USUARIOS(
	ID VARCHAR(20) PRIMARY KEY NOT NULL,
	SENHA VARCHAR(20) NOT NULL,
	NUM_AGE NUMERIC(5,0) NOT NULL,
	NUM_CC NUMERIC(10,0) NOT NULL,
	CONSTRAINT FK_USUARIOS_CC FOREIGN KEY (NUM_AGE,NUM_CC) REFERENCES CONTACORRENTE(NUM_AGE,NUM_CC)
)

CREATE TABLE MOVIMENTACAO(
	NUM_AGE NUMERIC(5,0) NOT NULL,
	NUM_CC NUMERIC(10,0) NOT NULL,
	DATA_MOV DATETIME NOT NULL,
	NUM_DOCTO VARCHAR(6) NOT NULL,
	DEBITO_CREDITO CHAR(1) NOT NULL,
	ID_HIS NUMERIC(4,0) NOT NULL,
	COMPL_HIS VARCHAR(30),
	VALOR NUMERIC(9,2) NOT NULL,
	SALDO NUMERIC(15,2),
	PRIMARY KEY (NUM_AGE,NUM_CC,DATA_MOV,NUM_DOCTO),
	CONSTRAINT FK_MOVIMENTACAO_AGE FOREIGN KEY (NUM_AGE) REFERENCES AGENCIAS(NUM_AGE),
	CONSTRAINT FK_MOVIMENTACAO_CC FOREIGN KEY (NUM_AGE,NUM_CC) REFERENCES CONTACORRENTE(NUM_AGE,NUM_CC),
	CONSTRAINT FK_MOVIMENTACAO_HIS FOREIGN KEY (ID_HIS) REFERENCES HISTORICOS(ID_HIS)
)


INSERT INTO CLIENTES (ID_CLI, NOME_CLI, ENDE_CLI, NUME_CLI, COMPL_CLI, BAIR_CLI, CIDA_CLI, UF_CLI, CEP_CLI, FONE_CLI, CPF_CLI, DATA_NASC, CNPJ_CLI) 
VALUES (1, 'João da Silva', 'Rua das Palmeiras, 10', '10', 'Apto 101', 'Centro', 'São Paulo', 'SP', '01010000', '(11)9999-9999', '12345678909', '20-05-1985 00:00:00.000', NULL);

INSERT INTO CLIENTES (ID_CLI, NOME_CLI, ENDE_CLI, NUME_CLI, COMPL_CLI, BAIR_CLI, CIDA_CLI, UF_CLI, CEP_CLI, FONE_CLI, CPF_CLI, DATA_NASC, CNPJ_CLI) 
VALUES (2, 'Maria Oliveira', 'Avenida Brasil, 20', '20', NULL, 'Jardim São Paulo', 'São Paulo', 'SP', '02020000', '(11)8888-8888', '98765432100', '15-03-1990 00:00:00', NULL);

INSERT INTO CLIENTES (ID_CLI, NOME_CLI, ENDE_CLI, NUME_CLI, COMPL_CLI, BAIR_CLI, CIDA_CLI, UF_CLI, CEP_CLI, FONE_CLI, CPF_CLI, DATA_NASC, CNPJ_CLI) 
VALUES (3, 'Carlos Pereira', 'Rua do Lago, 30', '30', 'Casa 5', 'Vila das Flores', 'São Paulo', 'SP', '03030000', '(11)7777-7777', '45678912300', '10-12-1988 00:00:00', NULL);

INSERT INTO CLIENTES (ID_CLI, NOME_CLI, ENDE_CLI, NUME_CLI, COMPL_CLI, BAIR_CLI, CIDA_CLI, UF_CLI, CEP_CLI, FONE_CLI, CPF_CLI, DATA_NASC, CNPJ_CLI) 
VALUES (4, 'Ana Costa', 'Avenida das Árvores, 40', '40', 'Bloco A', 'Vila Mariana', 'São Paulo', 'SP', '04040000', '(11)6666-6666', '32132132100', '25-07-1995 00:00:00', NULL);

INSERT INTO CLIENTES (ID_CLI, NOME_CLI, ENDE_CLI, NUME_CLI, COMPL_CLI, BAIR_CLI, CIDA_CLI, UF_CLI, CEP_CLI, FONE_CLI, CPF_CLI, DATA_NASC, CNPJ_CLI) 
VALUES (5, 'Fernando Santos', 'Rua do Sol, 50', '50', NULL, 'Pinheiros', 'São Paulo', 'SP', '05050000', '(11)5555-5555', '65498712300', '05-11-1982 00:00:00', NULL);


INSERT INTO AGENCIAS (NUM_AGE, NOME_AGE, ENDE_AGE, NUME_AGE, COMPL_AGE, BAIR_AGE, CIDA_AGE, UF_AGE, CEP_AGE, FONE_AGE) 
VALUES (101, 'Agência Central', 'Av. Paulista, 100', '100', 'Sala 2', 'Centro', 'São Paulo', 'SP', '01311000', '(11)1234-5678');

INSERT INTO AGENCIAS (NUM_AGE, NOME_AGE, ENDE_AGE, NUME_AGE, COMPL_AGE, BAIR_AGE, CIDA_AGE, UF_AGE, CEP_AGE, FONE_AGE) 
VALUES (102, 'Agência Norte', 'Rua da Esperança, 200', '200', NULL, 'Vila Nova', 'São Paulo', 'SP', '02222000', '(11)2345-6789');

INSERT INTO AGENCIAS (NUM_AGE, NOME_AGE, ENDE_AGE, NUME_AGE, COMPL_AGE, BAIR_AGE, CIDA_AGE, UF_AGE, CEP_AGE, FONE_AGE) 
VALUES (103, 'Agência Sul', 'Rua do Sol, 300', '300', 'Próximo ao parque', 'Jardim das Flores', 'São Paulo', 'SP', '03333000', '(11)3456-7890');

INSERT INTO AGENCIAS (NUM_AGE, NOME_AGE, ENDE_AGE, NUME_AGE, COMPL_AGE, BAIR_AGE, CIDA_AGE, UF_AGE, CEP_AGE, FONE_AGE) 
VALUES (104, 'Agência Leste', 'Av. dos Estados, 400', '400', 'Bloco 1', 'São Miguel', 'São Paulo', 'SP', '04444000', '(11)4567-8901');

INSERT INTO AGENCIAS (NUM_AGE, NOME_AGE, ENDE_AGE, NUME_AGE, COMPL_AGE, BAIR_AGE, CIDA_AGE, UF_AGE, CEP_AGE, FONE_AGE) 
VALUES (105, 'Agência Oeste', 'Rua do Comércio, 500', '500', NULL, 'Pinheiros', 'São Paulo', 'SP', '05555000', '(11)5678-9012');


INSERT INTO HISTORICOS (ID_HIS, DES_HIS) VALUES (1, 'Abertura de Conta');
INSERT INTO HISTORICOS (ID_HIS, DES_HIS) VALUES (2, 'Depósito');
INSERT INTO HISTORICOS (ID_HIS, DES_HIS) VALUES (3, 'Saque');
INSERT INTO HISTORICOS (ID_HIS, DES_HIS) VALUES (4, 'Transferência');
INSERT INTO HISTORICOS (ID_HIS, DES_HIS) VALUES (5, 'Fechamento de Conta');

INSERT INTO CONTACORRENTE (NUM_AGE, NUM_CC, ID_CLI, SALDO) VALUES (101, 1000000001, 1, 1500.00);
INSERT INTO CONTACORRENTE (NUM_AGE, NUM_CC, ID_CLI, SALDO) VALUES (102, 1000000002, 2, 2500.50);
INSERT INTO CONTACORRENTE (NUM_AGE, NUM_CC, ID_CLI, SALDO) VALUES (103, 1000000003, 3, 3200.75);
INSERT INTO CONTACORRENTE (NUM_AGE, NUM_CC, ID_CLI, SALDO) VALUES (104, 1000000004, 4, 400.00);
INSERT INTO CONTACORRENTE (NUM_AGE, NUM_CC, ID_CLI, SALDO) VALUES (105, 1000000005, 5, 9000.00);


INSERT INTO USUARIOS (ID, SENHA, NUM_AGE, NUM_CC) VALUES ('usuario1', 'senha123', 101, 1000000001);
INSERT INTO USUARIOS (ID, SENHA, NUM_AGE, NUM_CC) VALUES ('usuario2', 'senha456', 102, 1000000002);
INSERT INTO USUARIOS (ID, SENHA, NUM_AGE, NUM_CC) VALUES ('usuario3', 'senha789', 103, 1000000003);
INSERT INTO USUARIOS (ID, SENHA, NUM_AGE, NUM_CC) VALUES ('usuario4', 'senha101', 104, 1000000004);
INSERT INTO USUARIOS (ID, SENHA, NUM_AGE, NUM_CC) VALUES ('usuario5', 'senha202', 105, 1000000005);
